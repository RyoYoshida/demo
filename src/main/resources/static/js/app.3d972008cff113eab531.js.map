{"version":3,"sources":["webpack:///src/components/IdeaEdge.vue","webpack:///./src/components/IdeaEdge.vue?79e0","webpack:///./src/components/IdeaEdge.vue","webpack:///src/components/IdeaEdgeNode.vue","webpack:///./src/components/IdeaEdgeNode.vue?0b06","webpack:///./src/components/IdeaEdgeNode.vue","webpack:///src/components/IdeaEdgeLayer.vue","webpack:///./src/components/IdeaEdgeLayer.vue?0404","webpack:///./src/components/IdeaEdgeLayer.vue","webpack:///src/components/IdeaEdgeLayerBlock.vue","webpack:///./src/components/IdeaEdgeLayerBlock.vue?7dd3","webpack:///./src/assets/utilty/position.js","webpack:///src/components/IdeaEdgeField.vue","webpack:///./src/components/IdeaEdgeLayerBlock.vue","webpack:///./src/components/IdeaEdgeField.vue?78d5","webpack:///./src/components/IdeaEdgeField.vue","webpack:///src/App.vue","webpack:///./src/App.vue?807f","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["IdeaEdge","name","props","start","type","Array","default","end","id","Number","data","show","delete","computed","pathStyle","stroke","strokeWidth","fill","arrowStyle","arrowTransform","_caculateCenterPoint","this","caculateCenterPoint","_caculateCenterPoint2","slicedToArray_default","caculateRotation","dAttr","cx","cy","ex","ey","methods","edgeMouseOver","edgeMouseLeave","dx","dy","degree","Math","atan2","PI","deleteEdge","$emit","components_IdeaEdge","render","_vm","_h","$createElement","_c","_self","on","mouseover","mouseleave","style","attrs","d","_v","click","text-anchor","transform","font-size","staticRenderFns","src_components_IdeaEdge","__webpack_require__","normalizeComponent","ssrContext","IdeaEdgeNode","validator","val","x","y","String","label","options","Object","centerX","scale","centerY","edit","directives","focus","inserted","el","nodePosition","top","left","changeText","get","set","nodeClick","e","target","srcElement","className","indexOf","preventDefault","nodeMouseOver","console","log","nodePort","currentTarget","children","i","length","visibility","portMouseDown","getAttribute","portId","screenX","portMouseUp","shiftKey","editText","components_IdeaEdgeNode","staticClass","class","selected","mousedown","mouseup","rawName","value","expression","modifiers","avoid","domProps","blur","$event","input","composing","textContent","_s","src_components_IdeaEdgeNode","IdeaEdgeNode_normalizeComponent","IdeaEdgeLayer","crossMarkPosition","_markPosition","markPosition","_markPosition2","layerMouseOver","layerMouseLeave","deleteLayer","components_IdeaEdgeLayer","_e","src_components_IdeaEdgeLayer","IdeaEdgeLayer_normalizeComponent","IdeaEdgeLayerBlock","rectStyle","round","random","components_IdeaEdgeLayerBlock","width","height","getMousePosition","element","event","mouseX","pageX","clientX","document","documentElement","scrollLeft","mouseY","pageY","clientY","scrollTop","offset","box","getBoundingClientRect","window","pageYOffset","pageXOffset","getOffsetRect","IdeaEdgeField","components","IdeaEdgeLayerBlock_normalizeComponent","scene","nodes","edges","layers","blocks","dafault","newNodeType","newNodeLabel","nodeCategory","cachedSaveDatas","action","edging","dragging","scrolling","dragginglayer","copied","mouse","lastX","lastY","draggingEdge","rootNodeOffset","globalVar","undoSaveDatas","redoSaveDatas","mounted","$nextTick","addNode","addEdge","$el","offsetTop","offsetLeft","nodeOptions","lines","_this","map","edge","fromNode","findNodeID","from","toNode","to","fromPort","_getPortPosition","getPortPosition","_getPortPosition2","_getPortPosition3","_getPortPosition4","_getPortPosition5","_getPortPosition6","_getPortPosition7","_getPortPosition8","toPort","_getPortPosition9","_getPortPosition10","_getPortPosition11","_getPortPosition12","_getPortPosition13","_getPortPosition14","_getPortPosition15","_getPortPosition16","_getPortPosition17","_getPortPosition18","_getPortPosition19","_getPortPosition20","_getPortPosition21","_getPortPosition22","_getPortPosition23","_getPortPosition24","push","mx","my","layerLines","layer","block","w","h","find","item","mouseDown","matches","which","_getMousePosition","_getMousePosition2","classList","getElementsByClassName","offsetX","localName","offsetY","layerStart","startX","startY","mouseMove","_getMousePosition3","_getMousePosition4","_ref","diffX","diffY","moveSelectedNode","_getMousePosition5","_getMousePosition6","_diffX","_diffY","mouseUp","contains","onShortKeyPressed","_this2","srcKey","onDeleteKeyPressed","copyNode","node","undefined","addCopyNode","selectedNodeData","$refs","Child","createSaveData","jsonData","pop","undoData","JSON","parse","linkingData","jsonSaveData","redoData","stringify_default","deleteNode","filter","edgingStart","nodeData","portData","portX","portY","edgingStop","nodeId","_this3","newEdge","max","apply","concat","toConsumableArray_default","reverseEdgingStop","_this4","edgeDelete","layerDelete","refreshBlocks","_this5","index","findIndex","$set","assign_default","nodeSelected","childData","$children","onDblClick","_this6","newNodeX","newNodeY","newNode","link","newCopyNode","fromNodeId","fromPortId","toNodeId","toPortId","startCoordinate","draggingLayer","maxID","newLayer","addBlock","createSaveDatas","newBlock","xLayers","unshift","yLayers","j","parseInt","components_IdeaEdgeField","nodeDelete","nodeCopy","nodePaste","nodeEdit","undo","redo","mousemove","shortkey","dblclick","_l","_b","key","ref","refInFor","App","IdeaEdgeField_normalizeComponent","fieldClick","edgeAdded","save","saveData","$cookies","reload","applySaveData","unimplementedAlert","alert","selectortype_template_index_0_src_App","href","th:href","color","update:scene","src_App","App_normalizeComponent","Vue","config","productionTip","use","Vuetify","__webpack_exports__","require","VueCookies","vuetify","opts","theme","dark","themes","light","primary"],"mappings":"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","file":"static/js/app.3d972008cff113eab531.js","sourcesContent":["<template>\r\n  <g @mouseover=\"edgeMouseOver\" @mouseleave=\"edgeMouseLeave\">\r\n    <path :d=\"dAttr\" :style=\"pathStyle\"></path>\r\n    <a v-if=\"show.delete\" @click=\"deleteEdge\">\r\n      <text text-anchor=\"middle\" :transform=\"arrowTransform\" font-size=\"40\">&times;</text>\r\n    </a>\r\n    <path\r\n      v-else\r\n      d=\"M -2 -1 L 0 5 L 2 -1 z\"\r\n      :style=\"arrowStyle\"\r\n      :transform=\"arrowTransform\"\r\n    ></path>\r\n  </g>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"IdeaEdge\",\r\n  props: {\r\n    start: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n    end: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n    id: Number\r\n  },\r\n  data() {\r\n    return {\r\n      show: {\r\n        delete: false\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    // pathの全体のスタイル\r\n    pathStyle() {\r\n      return {\r\n        stroke: \"rgb(0, 0, 0)\",\r\n        strokeWidth: 2.73205,\r\n        fill: \"none\"\r\n      };\r\n    },\r\n    //矢印マークのスタイルを設定するcomputed\r\n    arrowStyle() {\r\n      return {\r\n        stroke: \"rgb(0, 0, 0)\",\r\n        strokeWidth: 10,\r\n        fill: \"none\"\r\n      };\r\n    },\r\n    //矢印のアニメーションを設定するcomputed\r\n    arrowTransform() {\r\n      const [arrowX, arrowY] = this.caculateCenterPoint();\r\n      const degree = this.caculateRotation();\r\n      return `translate(${arrowX}, ${arrowY}) rotate(${degree})`;\r\n    },\r\n\r\n    // pathの形のスタイル\r\n    dAttr() {\r\n      let cx = this.start[0],\r\n        cy = this.start[1],\r\n        ex = this.end[0],\r\n        ey = this.end[1];\r\n      let x1 = cx,\r\n        y1 = cy,\r\n        x2 = ex,\r\n        y2 = ey;\r\n      return `M ${cx}, ${cy} C ${x1}, ${y1}, ${x2}, ${y2}, ${ex}, ${ey}`;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // エッジにマウスカーソルが乗ったときの実装\r\n    edgeMouseOver() {\r\n      if (this.id) {\r\n        this.show.delete = true;\r\n      }\r\n    },\r\n\r\n    // マウスカーソルが離れた際に線が消えないようにするメソッド\r\n    edgeMouseLeave() {\r\n      this.show.delete = false;\r\n    },\r\n\r\n    //中心を計算するメソッド\r\n    caculateCenterPoint() {\r\n      const dx = (this.end[0] - this.start[0]) / 2;\r\n      const dy = (this.end[1] - this.start[1]) / 2;\r\n      return [this.start[0] + dx, this.start[1] + dy];\r\n    },\r\n\r\n    //回転を計算するメソッド\r\n    caculateRotation() {\r\n      const angle = -Math.atan2(\r\n        this.end[0] - this.start[0],\r\n        this.end[1] - this.start[1]\r\n      );\r\n      const degree = (angle * 180) / Math.PI;\r\n      return degree < 0 ? degree + 360 : degree;\r\n    },\r\n\r\n    // を削除するときのメソッド\r\n    deleteEdge() {\r\n      this.$emit(\"deleteEdge\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\ng {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IdeaEdge.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{on:{\"mouseover\":_vm.edgeMouseOver,\"mouseleave\":_vm.edgeMouseLeave}},[_c('path',{style:(_vm.pathStyle),attrs:{\"d\":_vm.dAttr}}),_vm._v(\" \"),(_vm.show.delete)?_c('a',{on:{\"click\":_vm.deleteEdge}},[_c('text',{attrs:{\"text-anchor\":\"middle\",\"transform\":_vm.arrowTransform,\"font-size\":\"40\"}},[_vm._v(\"×\")])]):_c('path',{style:(_vm.arrowStyle),attrs:{\"d\":\"M -2 -1 L 0 5 L 2 -1 z\",\"transform\":_vm.arrowTransform}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b40e4aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IdeaEdge.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b40e4aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdeaEdge.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdge.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdge.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b40e4aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdeaEdge.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b40e4aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IdeaEdge.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div\r\n    :style=\"nodePosition\"\r\n    class=\"idea-edge-node\"\r\n    @mousedown=\"nodeClick\"\r\n    @mouseover=\"nodeMouseOver\"\r\n    v-bind:class=\"{ selected: options.selected === id }\"\r\n  >\r\n    <div\r\n      class=\"node-port port-index-1\"\r\n      portId=\"1\"\r\n      @mousedown=\"portMouseDown\"\r\n      @mouseup=\"portMouseUp\"\r\n    ></div>\r\n    <div\r\n      class=\"node-port port-index-2\"\r\n      portId=\"2\"\r\n      @mousedown=\"portMouseDown\"\r\n      @mouseup=\"portMouseUp\"\r\n    ></div>\r\n    <div\r\n      class=\"node-port port-index-3\"\r\n      portId=\"3\"\r\n      @mousedown=\"portMouseDown\"\r\n      @mouseup=\"portMouseUp\"\r\n    ></div>\r\n    <div\r\n      class=\"node-port port-index-4\"\r\n      portId=\"4\"\r\n      @mousedown=\"portMouseDown\"\r\n      @mouseup=\"portMouseUp\"\r\n    ></div>\r\n    <div v-if=\"!edit\" v-text=\"label\" class=\"node-label\"></div>\r\n    <input\r\n      v-else\r\n      type=\"text\"\r\n      v-model=\"changeText\"\r\n      v-on:blur=\"edit = false\"\r\n      v-focus\r\n      v-shortkey.avoid\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IdeaEdgeNode\",\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      default: 1000,\r\n      validator(val) {\r\n        return typeof val === \"number\";\r\n      }\r\n    },\r\n    x: {\r\n      type: Number,\r\n      default: 0,\r\n      validator(val) {\r\n        return typeof val === \"number\";\r\n      }\r\n    },\r\n    y: {\r\n      type: Number,\r\n      default: 0,\r\n      validator(val) {\r\n        return typeof val === \"number\";\r\n      }\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"Default\"\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"input name\"\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          centerX: 1024,\r\n          scale: 1,\r\n          centerY: 140\r\n        };\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      edit: false\r\n    };\r\n  },\r\n\r\n  directives: {\r\n    focus: {\r\n      inserted: function(el) {\r\n        el.focus();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    //ノードのポジションを取得するcomputed\r\n    nodePosition() {\r\n      return {\r\n        top: this.options.centerY + this.y * this.options.scale + \"px\",\r\n        left: this.options.centerX + this.x * this.options.scale + \"px\",\r\n        transform: `scale(${this.options.scale})`\r\n      };\r\n    },\r\n\r\n    changeText: {\r\n      get() {\r\n        return this.label;\r\n      },\r\n      set(label) {\r\n        this.$emit(\"update:label\", label);\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //ノードをクリックした際に呼び出されるメソッド\r\n    //ノードの上〇下〇が押されていないときに動いたりするように実装\r\n    nodeClick(e) {\r\n      if (this.edit === true) {\r\n        return;\r\n      }\r\n      const target = e.target || e.srcElement;\r\n      if (\r\n        target.className.indexOf(\"node-port port-index-1\") < 0 &&\r\n        target.className.indexOf(\"node-port port-index-2\") < 0 &&\r\n        target.className.indexOf(\"node-port port-index-3\") < 0 &&\r\n        target.className.indexOf(\"node-port port-index-4\") < 0\r\n      ) {\r\n        this.$emit(\"nodeSelected\", e);\r\n      }\r\n      e.preventDefault();\r\n    },\r\n\r\n    nodeMouseOver(e) {\r\n      console.log(\"ノードにマウス乗った\");\r\n      const nodePort = e.currentTarget.children;\r\n      for (let i = 0; i < nodePort.length; i++) {\r\n        nodePort[i].style.visibility = \"visible\";\r\n      }\r\n      e.preventDefault();\r\n    },\r\n\r\n    portMouseDown(e) {\r\n      console.log(\"ポートをクリックした\", e.target.getAttribute(\"portId\"));\r\n      var data = this.$emit(\"edgingStart\", {\r\n        portId: e.target.getAttribute(\"portId\"),\r\n        x: e.screenX,\r\n        y: e.screenX\r\n      });\r\n      e.preventDefault();\r\n    },\r\n\r\n    portMouseUp(e) {\r\n      console.log(\"ポートでマウス離した\", e.target.getAttribute(\"portId\"));\r\n      if (e.shiftKey === true) {\r\n        this.$emit(\"reverseEdgingStop\", e.target.getAttribute(\"portId\"));\r\n      } else {\r\n        this.$emit(\"edgingStop\", e.target.getAttribute(\"portId\"));\r\n      }\r\n      const nodePort = e.currentTarget.children;\r\n      for (let i = 0; i < nodePort.length; i++) {\r\n        nodePort[i].style.visibility = \"hidden\";\r\n      }\r\n      e.preventDefault();\r\n    },\r\n\r\n    editText(e) {\r\n      this.edit = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$themeColor: rgb(0, 0, 0);\r\n$portSize: 15;\r\n\r\n.idea-edge-node {\r\n  margin: 0;\r\n  width: 180px;\r\n  height: 22px;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  border: none;\r\n  background: #ffffe0;\r\n  z-index: 1;\r\n  cursor: move;\r\n  transform-origin: top left;\r\n  text-align: center;\r\n  .node-label {\r\n    font-size: 18px;\r\n  }\r\n  .node-port {\r\n    position: absolute;\r\n    width: #{$portSize}px;\r\n    height: #{$portSize}px;\r\n    left: 100%;\r\n    transform: translate(-50%);\r\n    border: 1px solid #ccc;\r\n    border-radius: 100px;\r\n    background: white;\r\n    visibility: hidden;\r\n    &:hover {\r\n      background: $themeColor;\r\n      border: 1px solid $themeColor;\r\n    }\r\n  }\r\n  .port-index-1 {\r\n    top: #{-2 + $portSize/-2}px;\r\n    left: #{95 + $portSize/-2}px;\r\n  }\r\n\r\n  .port-index-2 {\r\n    top: #{10 + $portSize/-2}px;\r\n    left: #{5 + $portSize/-2}px;\r\n  }\r\n  .port-index-3 {\r\n    top: #{10 + $portSize/-2}px;\r\n  }\r\n  .port-index-4 {\r\n    bottom: #{-2 + $portSize/-2}px;\r\n    left: #{95 + $portSize/-2}px;\r\n  }\r\n}\r\n.selected {\r\n  box-shadow: 0 0 0 2px $themeColor;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IdeaEdgeNode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"idea-edge-node\",class:{ selected: _vm.options.selected === _vm.id },style:(_vm.nodePosition),on:{\"mousedown\":_vm.nodeClick,\"mouseover\":_vm.nodeMouseOver}},[_c('div',{staticClass:\"node-port port-index-1\",attrs:{\"portId\":\"1\"},on:{\"mousedown\":_vm.portMouseDown,\"mouseup\":_vm.portMouseUp}}),_vm._v(\" \"),_c('div',{staticClass:\"node-port port-index-2\",attrs:{\"portId\":\"2\"},on:{\"mousedown\":_vm.portMouseDown,\"mouseup\":_vm.portMouseUp}}),_vm._v(\" \"),_c('div',{staticClass:\"node-port port-index-3\",attrs:{\"portId\":\"3\"},on:{\"mousedown\":_vm.portMouseDown,\"mouseup\":_vm.portMouseUp}}),_vm._v(\" \"),_c('div',{staticClass:\"node-port port-index-4\",attrs:{\"portId\":\"4\"},on:{\"mousedown\":_vm.portMouseDown,\"mouseup\":_vm.portMouseUp}}),_vm._v(\" \"),(!_vm.edit)?_c('div',{staticClass:\"node-label\",domProps:{\"textContent\":_vm._s(_vm.label)}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeText),expression:\"changeText\"},{name:\"focus\",rawName:\"v-focus\"},{name:\"shortkey\",rawName:\"v-shortkey.avoid\",modifiers:{\"avoid\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.changeText)},on:{\"blur\":function($event){_vm.edit = false},\"input\":function($event){if($event.target.composing){ return; }_vm.changeText=$event.target.value}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14a4a9fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IdeaEdgeNode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14a4a9fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdeaEdgeNode.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeNode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeNode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14a4a9fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdeaEdgeNode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14a4a9fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IdeaEdgeNode.vue\n// module id = null\n// module chunks = ","<template>\r\n  <g @mouseover=\"layerMouseOver\" @mouseleave=\"layerMouseLeave\">\r\n    <path :d=\"dAttr\" :style=\"pathStyle\"></path>\r\n    <a v-if=\"show.delete\" @click=\"deleteLayer\">\r\n      <text\r\n        text-anchor=\"middle\"\r\n        font-size=\"40\"\r\n        :x=\"crossMarkPosition[0]\"\r\n        :y=\"crossMarkPosition[1]\"\r\n        >&times;</text\r\n      >\r\n    </a>\r\n  </g>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"IdeaEdgeLayer\",\r\n  props: {\r\n    start: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n    end: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n    id: Number\r\n  },\r\n  data() {\r\n    return {\r\n      show: {\r\n        delete: false\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    // pathの全体のスタイル\r\n    pathStyle() {\r\n      return {\r\n        stroke: \"rgb(0, 0, 0)\",\r\n        strokeWidth: 3,\r\n        fill: \"none\"\r\n      };\r\n    },\r\n\r\n    crossMarkPosition() {\r\n      const [crossMarkX, crossMarkY] = this.markPosition();\r\n      return [crossMarkX, crossMarkY];\r\n    },\r\n\r\n    // pathの形のスタイル\r\n    dAttr() {\r\n      let cx = this.start[0],\r\n        cy = this.start[1],\r\n        ex = this.end[0],\r\n        ey = this.end[1];\r\n      let x1 = cx,\r\n        y1 = cy,\r\n        x2 = ex,\r\n        y2 = ey;\r\n      return `M ${cx}, ${cy} C ${x1}, ${y1}, ${x2}, ${y2}, ${ex}, ${ey}`;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // エッジにマウスカーソルが乗ったときの実装\r\n    layerMouseOver() {\r\n      if (this.id) {\r\n        this.show.delete = true;\r\n      }\r\n    },\r\n\r\n    markPosition() {\r\n      let mx, my;\r\n      if (this.start[0] < 10) {\r\n        mx = this.start[0] + 10;\r\n        my = this.start[1] + 13;\r\n        return [mx, my];\r\n      } else if (this.start[1] < 10) {\r\n        mx = this.start[0];\r\n        my = this.start[1] + 22;\r\n        return [mx, my];\r\n      }\r\n    },\r\n\r\n    // マウスカーソルが離れた際に線が消えないようにするメソッド\r\n    layerMouseLeave() {\r\n      this.show.delete = false;\r\n    },\r\n\r\n    // を削除するときのメソッド\r\n    deleteLayer() {\r\n      this.$emit(\"deleteLayer\");\r\n      console.log(\"レイヤーを削除するよ\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\ng {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IdeaEdgeLayer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{on:{\"mouseover\":_vm.layerMouseOver,\"mouseleave\":_vm.layerMouseLeave}},[_c('path',{style:(_vm.pathStyle),attrs:{\"d\":_vm.dAttr}}),_vm._v(\" \"),(_vm.show.delete)?_c('a',{on:{\"click\":_vm.deleteLayer}},[_c('text',{attrs:{\"text-anchor\":\"middle\",\"font-size\":\"40\",\"x\":_vm.crossMarkPosition[0],\"y\":_vm.crossMarkPosition[1]}},[_vm._v(\"×\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-794bf5f6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IdeaEdgeLayer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-794bf5f6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdeaEdgeLayer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeLayer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeLayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-794bf5f6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdeaEdgeLayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-794bf5f6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IdeaEdgeLayer.vue\n// module id = null\n// module chunks = ","<template>\r\n  <g>\r\n    <rect :x=\"this.start[0]\" :y=\"this.start[1]\" :width=\"this.end[0]\" :height=\"this.end[1]\" :style=\"rectStyle\"></rect>\r\n  </g>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"IdeaEdge\",\r\n  props: {\r\n    id: Number,\r\n    start: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n    end: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0];\r\n      }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    rectStyle() {\r\n      let r = 230 + Math.round(Math.random()*25);\r\n      let g = 230 + Math.round(Math.random()*25);\r\n      let b = 230 + Math.round(Math.random()*25);\r\n      return {\r\n        stroke: \"rgb(0, 0, 0)\",\r\n        strokeWidth: 1,\r\n        fill: \"rgb(\"+r+\", \"+g+\", \"+b+\")\"\r\n      };\r\n    },\r\n  },\r\n\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\ng {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IdeaEdgeLayerBlock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',{style:(_vm.rectStyle),attrs:{\"x\":this.start[0],\"y\":this.start[1],\"width\":this.end[0],\"height\":this.end[1]}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30453ad5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IdeaEdgeLayerBlock.vue\n// module id = null\n// module chunks = ","\r\n\r\n/**\r\n * @param element {HTMLElement}\r\n * @return {{top: number, left: number}}\r\n */\r\nfunction getOffsetRect (element) {\r\n  let box = element.getBoundingClientRect()\r\n\r\n  let scrollTop = window.pageYOffset\r\n  let scrollLeft = window.pageXOffset\r\n\r\n  let top = box.top + scrollTop\r\n  let left = box.left + scrollLeft\r\n\r\n  return {top: Math.round(top), left: Math.round(left)}\r\n}\r\n/**\r\n * @param event {MouseEvent}\r\n * @param element {HTMLElement}\r\n * @return {{x: number, y: number}}\r\n */\r\nfunction getMousePosition (element, event) {\r\n  let mouseX = event.pageX || event.clientX + document.documentElement.scrollLeft\r\n  let mouseY = event.pageY || event.clientY + document.documentElement.scrollTop\r\n\r\n  let offset = getOffsetRect(element)\r\n  let x = mouseX - offset.left\r\n  let y = mouseY - offset.top\r\n \r\n  return [x, y];\r\n}\r\n\r\nexport {\r\n  getMousePosition, getOffsetRect\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/utilty/position.js","<template>\r\n  <div\r\n    class=\"field-container\"\r\n    @mousedown=\"mouseDown\"\r\n    @mousemove=\"mouseMove\"\r\n    @mouseup=\"mouseUp\"\r\n    v-shortkey=\"{\r\n      nodeDelete: ['del'],\r\n      nodeCopy: ['ctrl', 'c'],\r\n      nodePaste: ['ctrl', 'v'],\r\n      nodeEdit: ['f2'],\r\n      undo: ['ctrl', 'z'],\r\n      redo: ['ctrl', 'y']\r\n    }\"\r\n    @shortkey=\"onShortKeyPressed($event)\"\r\n    @dblclick=\"onDblClick($event)\"\r\n  >\r\n    <svg :width=\"`${width}px`\" :height=\"`${height}px`\">\r\n      <IdeaEdgeLayerBlock\r\n        v-bind.sync=\"block\"\r\n        v-for=\"(block, index) in blocks\"\r\n        :key=\"`block${index}`\"\r\n      ></IdeaEdgeLayerBlock>\r\n      <IdeaEdgeLayer\r\n        v-bind.sync=\"layer\"\r\n        v-for=\"(layer, index) in layerLines\"\r\n        :key=\"`layer${index}`\"\r\n        @deleteLayer=\"layerDelete(layer.id)\"\r\n      ></IdeaEdgeLayer>\r\n      <IdeaEdge\r\n        v-bind.sync=\"edge\"\r\n        v-for=\"(edge, index) in lines\"\r\n        :key=\"`edge${index}`\"\r\n        @deleteEdge=\"edgeDelete(edge.id)\"\r\n      ></IdeaEdge>\r\n    </svg>\r\n    <IdeaEdgeNode\r\n      v-bind.sync=\"node\"\r\n      v-for=\"(node, index) in scene.nodes\"\r\n      :key=\"`node${index}`\"\r\n      :options=\"nodeOptions\"\r\n      @edgingStart=\"edgingStart(node, $event)\"\r\n      @edgingStop=\"edgingStop(node.id, $event)\"\r\n      @reverseEdgingStop=\"reverseEdgingStop(node.id, $event)\"\r\n      @nodeSelected=\"nodeSelected(node.id, $event)\"\r\n      ref=\"Child\"\r\n    ></IdeaEdgeNode>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IdeaEdge from \"./IdeaEdge.vue\";\r\nimport IdeaEdgeNode from \"./IdeaEdgeNode.vue\";\r\nimport IdeaEdgeLayer from \"./IdeaEdgeLayer.vue\";\r\nimport IdeaEdgeLayerBlock from \"./IdeaEdgeLayerBlock.vue\";\r\nimport { getMousePosition } from \"../assets/utilty/position\";\r\nexport default {\r\n  components: {\r\n    IdeaEdge,\r\n    IdeaEdgeNode,\r\n    IdeaEdgeLayer,\r\n    IdeaEdgeLayerBlock\r\n  },\r\n  name: \"IdeaEdgeField\",\r\n  props: {\r\n    scene: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          centerX: 512,\r\n          scale: 1,\r\n          centerY: 374,\r\n          nodes: [],\r\n          edges: [],\r\n          layers: [],\r\n          blocks: []\r\n        };\r\n      }\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 480\r\n    },\r\n    width: {\r\n      type: Number,\r\n      dafault: 640\r\n    },\r\n    newNodeType: {\r\n      type: String,\r\n      default: \"0\"\r\n    },\r\n    newNodeLabel: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    nodeCategory: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    cachedSaveDatas: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      action: {\r\n        edging: false,\r\n        dragging: false,\r\n        scrolling: false,\r\n        dragginglayer: false,\r\n        selected: 0,\r\n        copied: 0\r\n      },\r\n      mouse: {\r\n        x: 0,\r\n        y: 0,\r\n        lastX: 0,\r\n        lastY: 0\r\n      },\r\n      draggingEdge: null,\r\n      rootNodeOffset: {\r\n        top: 0,\r\n        left: 0\r\n      },\r\n      globalVar: \"copyNode\",\r\n      undoSaveDatas: [],\r\n      redoSaveDatas: []\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.$nextTick(function() {\r\n      this.addNode(-300, -300);\r\n      console.log(\"ノード1が作成されました\", this.scene.nodes[0].id);\r\n      this.addNode(100, 100);\r\n      console.log(\"ノード2が作成されました\", this.scene.nodes[1].id);\r\n      this.addEdge(1, \"4\", 2, \"1\");\r\n    });\r\n    this.rootNodeOffset.top = this.$el ? this.$el.offsetTop : 0;\r\n    this.rootNodeOffset.left = this.$el ? this.$el.offsetLeft : 0;\r\n    console.log(\"mounted\", this.rootNodeOffset.top, this.rootNodeOffset.left);\r\n  },\r\n\r\n  computed: {\r\n    //ノードのポジションオプションを設定するcomputed\r\n    nodeOptions() {\r\n      return {\r\n        centerY: this.scene.centerY,\r\n        centerX: this.scene.centerX,\r\n        scale: this.scene.scale,\r\n        offsetTop: this.rootNodeOffset.top,\r\n        offsetLeft: this.rootNodeOffset.left,\r\n        selected: this.action.selected\r\n      };\r\n    },\r\n\r\n    // エッジの線のオプションを設定するcomputed\r\n    lines() {\r\n      const lines = this.scene.edges.map(edge => {\r\n        const fromNode = this.findNodeID(edge.from);\r\n        const toNode = this.findNodeID(edge.to);\r\n        let x, y, cy, cx, ex, ey;\r\n        x = this.scene.centerX + fromNode.x;\r\n        y = this.scene.centerY + fromNode.y;\r\n        if (edge.fromPort === \"1\") {\r\n          [cx, cy] = this.getPortPosition(\"top\", x, y);\r\n        } else if (edge.fromPort === \"2\") {\r\n          [cx, cy] = this.getPortPosition(\"left\", x, y);\r\n        } else if (edge.fromPort === \"3\") {\r\n          [cx, cy] = this.getPortPosition(\"right\", x, y);\r\n        } else if (edge.fromPort === \"4\") {\r\n          [cx, cy] = this.getPortPosition(\"bottom\", x, y);\r\n        }\r\n        x = this.scene.centerX + toNode.x;\r\n        y = this.scene.centerY + toNode.y;\r\n        if (edge.toPort === \"1\") {\r\n          [ex, ey] = this.getPortPosition(\"top\", x, y);\r\n        } else if (edge.toPort === \"2\") {\r\n          [ex, ey] = this.getPortPosition(\"left\", x, y);\r\n        } else if (edge.toPort === \"3\") {\r\n          [ex, ey] = this.getPortPosition(\"right\", x, y);\r\n        } else if (edge.toPort === \"4\") {\r\n          [ex, ey] = this.getPortPosition(\"bottom\", x, y);\r\n        }\r\n        return {\r\n          start: [cx, cy],\r\n          end: [ex, ey],\r\n          id: edge.id\r\n        };\r\n      });\r\n      if (this.draggingEdge) {\r\n        let x, y, cy, cx;\r\n        const fromNode = this.findNodeID(this.draggingEdge.from);\r\n        x = this.scene.centerX + fromNode.x;\r\n        y = this.scene.centerY + fromNode.y;\r\n        if (this.draggingEdge.fromPort === \"1\") {\r\n          [cx, cy] = this.getPortPosition(\"top\", x, y);\r\n        } else if (this.draggingEdge.fromPort === \"2\") {\r\n          [cx, cy] = this.getPortPosition(\"left\", x, y);\r\n        } else if (this.draggingEdge.fromPort === \"3\") {\r\n          [cx, cy] = this.getPortPosition(\"right\", x, y);\r\n        } else if (this.draggingEdge.fromPort === \"4\") {\r\n          [cx, cy] = this.getPortPosition(\"bottom\", x, y);\r\n        }\r\n        lines.push({\r\n          start: [cx, cy],\r\n          end: [this.draggingEdge.mx, this.draggingEdge.my]\r\n        });\r\n      }\r\n      return lines;\r\n    },\r\n\r\n    layerLines() {\r\n      const layerLines = this.scene.layers.map(layer => {\r\n        let x, y;\r\n        x = layer.x;\r\n        y = layer.y;\r\n        if (layer.x === 0) {\r\n          return {\r\n            start: [x, y],\r\n            end: [x + 1024, y],\r\n            id: layer.id\r\n          };\r\n        } else if (layer.y === 0) {\r\n          return {\r\n            start: [x, y],\r\n            end: [x, y + 768],\r\n            id: layer.id\r\n          };\r\n        }\r\n      });\r\n      return layerLines;\r\n    },\r\n\r\n    blocks() {\r\n      const blocks = this.scene.blocks.map(block => {\r\n        return {\r\n          start: [block.x, block.y],\r\n          end: [block.w, block.h],\r\n          id: block.id\r\n        };\r\n      });\r\n      return blocks;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //idを探すメソッド\r\n    findNodeID(id) {\r\n      return this.scene.nodes.find(item => {\r\n        return id === item.id;\r\n      });\r\n    },\r\n\r\n    //ポートポジションを取得するメソッド\r\n    getPortPosition(type, x, y) {\r\n      if (type === \"top\") {\r\n        return [x + 90, y];\r\n      } else if (type === \"left\") {\r\n        return [x, y + 11];\r\n      } else if (type === \"right\") {\r\n        return [x + 180, y + 11];\r\n      } else if (type === \"bottom\") {\r\n        return [x + 90, y + 22];\r\n      }\r\n    },\r\n\r\n    //クリックしたときに呼び出されるメソッド\r\n    //フィールド内のマウスポジションを取得する\r\n    mouseDown(e) {\r\n      const target = e.target || e.srcElement;\r\n      if (\r\n        (target === this.$el || target.matches(\"svg, svg *\")) &&\r\n        e.which === 1\r\n      ) {\r\n        this.action.scrolling = true;\r\n        [this.mouse.lastX, this.mouse.lastY] = getMousePosition(this.$el, e);\r\n        this.action.selected = null;\r\n      }\r\n      this.$emit(\"fieldClick\", e);\r\n\r\n      if (e.target.classList[0] === \"node-port\") {\r\n        return;\r\n      } else {\r\n        const nodePort = document.getElementsByClassName(\"node-port\");\r\n        for (let i = 0; i < nodePort.length; i++) {\r\n          nodePort[i].style.visibility = \"hidden\";\r\n        }\r\n      }\r\n\r\n      if (\r\n        (e.offsetX < 5 &&\r\n          e.target.className !== \"node-label\" &&\r\n          e.target.localName !== \"input\") ||\r\n        (e.offsetY < 5 &&\r\n          e.target.className !== \"node-label\" &&\r\n          e.target.localName !== \"input\")\r\n      ) {\r\n        this.layerStart({ startX: e.offsetX, startY: e.offsetY });\r\n      }\r\n    },\r\n\r\n    //マウスが動いたときに呼び出されるメソッド\r\n    //エッジが結ばれる場合、ドラッグをした場合、スクロールをした場合に分けて実装\r\n    mouseMove(e) {\r\n      if (this.action.edging) {\r\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\r\n        [this.draggingEdge.mx, this.draggingEdge.my] = [\r\n          this.mouse.x,\r\n          this.mouse.y\r\n        ];\r\n      }\r\n      if (this.action.dragging) {\r\n        this.mouse.x =\r\n          e.pageX || e.clientX + document.documentElement.scrollLeft;\r\n        this.mouse.y =\r\n          e.pageY || e.clientY + document.documentElement.scrollTop;\r\n        let diffX = this.mouse.x - this.mouse.lastX;\r\n        let diffY = this.mouse.y - this.mouse.lastY;\r\n\r\n        this.mouse.lastX = this.mouse.x;\r\n        this.mouse.lastY = this.mouse.y;\r\n        this.moveSelectedNode(diffX, diffY);\r\n      }\r\n      if (this.action.scrolling) {\r\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\r\n        let diffX = this.mouse.x - this.mouse.lastX;\r\n        let diffY = this.mouse.y - this.mouse.lastY;\r\n\r\n        this.mouse.lastX = this.mouse.x;\r\n        this.mouse.lastY = this.mouse.y;\r\n\r\n        this.scene.centerX += diffX;\r\n        this.scene.centerY += diffY;\r\n      }\r\n    },\r\n\r\n    // クリックを離したときのメソッド\r\n    // クリックを離した場所が上〇だったらつながるように実装\r\n    mouseUp(e) {\r\n      const target = e.target || e.srcElement;\r\n      if (this.$el.contains(target)) {\r\n        if (\r\n          typeof target.className !== \"string\" ||\r\n          target.className.indexOf(\"node-port\") < 0\r\n        ) {\r\n          this.draggingEdge = null;\r\n        }\r\n      }\r\n      this.action.edging = false;\r\n      this.action.dragging = null;\r\n      this.action.scrolling = false;\r\n    },\r\n\r\n    //ショートカットキーを押したときに呼び出されるメソッド\r\n    onShortKeyPressed(e) {\r\n      switch (e.srcKey) {\r\n        // Deleteキーを押したときにノードが削除される実装\r\n        case \"nodeDelete\":\r\n          this.onDeleteKeyPressed();\r\n          break;\r\n        // Ctrl+Cを押したときに選択ノードがコピーされるように実装\r\n        case \"nodeCopy\":\r\n          if (this.action.selected > 0) {\r\n            this.action.copied = this.action.selected;\r\n            this.copyNode = this.scene.nodes.find(node => {\r\n              return node.id === this.action.copied;\r\n            });\r\n            console.log(\"コピーする\", \"label:\", this.copyNode.label);\r\n            console.log(\"コピーする\", \"id:\", this.copyNode.id);\r\n            console.log(\"コピーする\", \"x:\", this.copyNode.x);\r\n            console.log(\"コピーする\", \"y\", this.copyNode.y);\r\n          } else {\r\n            return;\r\n          }\r\n          break;\r\n        // Ctrl+Vを押したときにコピーしたノードがペーストされるように実装\r\n        case \"nodePaste\":\r\n          if (this.copyNode === undefined) {\r\n            return;\r\n          } else {\r\n            this.addCopyNode(this.copyNode);\r\n          }\r\n          //addCopyNode(200, 300, targetText);\r\n          break;\r\n        // F2キーを押したときに編集可能テキストになるように実装\r\n        case \"nodeEdit\":\r\n          console.log(\"編集するよ\", \"selected:\", this.action.selected);\r\n          if (this.action.selected > 0) {\r\n            var selectedNodeData = this.$refs.Child.find(item => {\r\n              return item.id === this.action.selected;\r\n            });\r\n            console.log(\"selectedNodeData:\", selectedNodeData);\r\n            selectedNodeData.edit = true;\r\n          }\r\n          break;\r\n        case \"undo\":\r\n          this.redoSaveDatas.push(this.createSaveData());\r\n          var jsonData = this.undoSaveDatas.pop();\r\n          console.log(\"undoJsonData:\", jsonData);\r\n          if (jsonData === undefined) {\r\n            return;\r\n          }\r\n          var undoData = JSON.parse(jsonData);\r\n          console.log(\"undoData:\", undoData);\r\n          this.linkingData(undoData);\r\n          break;\r\n\r\n        case \"redo\":\r\n          console.log(\"redoSaveDatas:\", this.redoSaveDatas);\r\n          this.undoSaveDatas.push(this.createSaveData());\r\n          var jsonSaveData = this.redoSaveDatas.pop();\r\n          console.log(\"redoJsonData:\", jsonSaveData);\r\n          if (jsonSaveData === undefined) {\r\n            return;\r\n          }\r\n          var redoData = JSON.parse(jsonSaveData);\r\n          console.log(\"redoData:\", redoData);\r\n          this.linkingData(redoData);\r\n          break;\r\n      }\r\n    },\r\n\r\n    // sceneデータの紐づけを行うメソッド\r\n    linkingData(data) {\r\n      this.scene.nodes = data.nodes;\r\n      this.scene.edges = data.edges;\r\n      this.scene.layers = data.layers;\r\n      this.scene.blocks = data.blocks;\r\n    },\r\n\r\n    // 現状のそれぞれのデータを作成するメソッド\r\n    createSaveData() {\r\n      var saveData = JSON.stringify({\r\n        nodes: this.scene.nodes,\r\n        edges: this.scene.edges,\r\n        layers: this.scene.layers,\r\n        blocks: this.scene.blocks\r\n      });\r\n      return saveData;\r\n    },\r\n\r\n    // BackSpaceを押したときに呼び出されるメソッド\r\n    // ノードが選択されたときにノードを削除するように実装\r\n    onDeleteKeyPressed(e) {\r\n      this.deleteNode(this.action.selected);\r\n    },\r\n\r\n    // ノードを削除するときに使うメソッド\r\n    // ノードだけでなく一緒にエッジも削除されるように実装\r\n    deleteNode(id) {\r\n      this.scene.nodes = this.scene.nodes.filter(node => {\r\n        return node.id !== id;\r\n      });\r\n      this.scene.edges = this.scene.edges.filter(edge => {\r\n        return edge.from !== id && edge.to !== id;\r\n      });\r\n      this.$emit(\"nodeDelete\", id);\r\n    },\r\n\r\n    // エッジのスタート地点の実装\r\n    edgingStart(nodeData, portData) {\r\n      this.action.edging = true;\r\n      const portId = portData.portId;\r\n      let portX, portY;\r\n      if (portId === \"1\") {\r\n        portX = nodeData.x + this.scene.centerX + 90;\r\n        portY = nodeData.y + this.scene.centerY;\r\n      } else if (portId === \"2\") {\r\n        portX = nodeData.x + this.scene.centerX;\r\n        portY = nodeData.y + this.scene.centerY + 11;\r\n      } else if (portId === \"3\") {\r\n        portX = nodeData.x + this.scene.centerX + 180;\r\n        portY = nodeData.y + this.scene.centerY + 11;\r\n      } else if (portId === \"4\") {\r\n        portX = nodeData.x + this.scene.centerX + 90;\r\n        portY = nodeData.y + this.scene.centerY + 22;\r\n      }\r\n      this.draggingEdge = {\r\n        from: nodeData.id,\r\n        fromPort: portId,\r\n        mx: portX,\r\n        my: portY\r\n      };\r\n    },\r\n\r\n    // エッジのストップ地点の実装\r\n    // edgeが作成されるように実装\r\n    edgingStop(nodeId, portId) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n\r\n      if (this.draggingEdge && this.draggingEdge.from !== nodeId) {\r\n        const existed = this.scene.edges.find(edge => {\r\n          return edge.from === this.draggingEdge.from && edge.to === nodeId;\r\n        });\r\n        if (!existed) {\r\n          let maxID = Math.max(\r\n            0,\r\n            ...this.scene.edges.map(edge => {\r\n              return edge.id;\r\n            })\r\n          );\r\n          const newEdge = {\r\n            id: maxID + 1,\r\n            from: this.draggingEdge.from,\r\n            fromPort: this.draggingEdge.fromPort,\r\n            to: nodeId,\r\n            toPort: portId\r\n          };\r\n          console.log(\r\n            \"id:\" + newEdge.id,\r\n            \"from:\" + newEdge.from,\r\n            \"fromPort:\" + newEdge.fromPort,\r\n            \"to:\" + newEdge.to,\r\n            \"toPort:\" + newEdge.toPort\r\n          );\r\n          this.scene.edges.push(newEdge);\r\n          this.$emit(\"edgeAdded\", newEdge);\r\n        }\r\n      }\r\n      this.draggingEdge = null;\r\n    },\r\n\r\n    // エッジの矢印の向きが反対になるメソッド\r\n    // shiftを押しながらエッジを作成すると矢印の向きが反対になるように実装\r\n    reverseEdgingStop(nodeId, portId) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n\r\n      if (this.draggingEdge && this.draggingEdge.from !== nodeId) {\r\n        const existed = this.scene.edges.find(edge => {\r\n          return edge.from === this.draggingEdge.from && edge.to === nodeId;\r\n        });\r\n        if (!existed) {\r\n          let maxID = Math.max(\r\n            0,\r\n            ...this.scene.edges.map(edge => {\r\n              return edge.id;\r\n            })\r\n          );\r\n          const newEdge = {\r\n            id: maxID + 1,\r\n            from: nodeId,\r\n            fromPort: portId,\r\n            to: this.draggingEdge.from,\r\n            toPort: this.draggingEdge.fromPort\r\n          };\r\n          console.log(\r\n            \"id:\" + newEdge.id,\r\n            \"from:\" + newEdge.from,\r\n            \"fromPort:\" + newEdge.fromPort,\r\n            \"to:\" + newEdge.to,\r\n            \"toPort:\" + newEdge.toPort\r\n          );\r\n          this.scene.edges.push(newEdge);\r\n          this.$emit(\"edgeAdded\", newEdge);\r\n        }\r\n      }\r\n      this.draggingEdge = null;\r\n    },\r\n\r\n    // edgeを削除する場合のメソッド\r\n    edgeDelete(id) {\r\n      const deletedEdge = this.scene.edges.find(item => {\r\n        return item.id === id;\r\n      });\r\n      if (deletedEdge) {\r\n        this.scene.edges = this.scene.edges.filter(item => {\r\n          return item.id !== id;\r\n        });\r\n        this.$emit(\"edgeDelete\", id);\r\n      }\r\n    },\r\n\r\n    layerDelete(id) {\r\n      const deletedLayer = this.scene.layers.find(item => {\r\n        return item.id === id;\r\n      });\r\n      if (deletedLayer) {\r\n        this.scene.layers = this.scene.layers.filter(item => {\r\n          return item.id !== id;\r\n        });\r\n        this.refreshBlocks();\r\n      }\r\n    },\r\n\r\n    // 選択をしたノードを動かす場合のメソッド\r\n    moveSelectedNode(dx, dy) {\r\n      let index = this.scene.nodes.findIndex(item => {\r\n        return item.id === this.action.dragging;\r\n      });\r\n      let left = this.scene.nodes[index].x + dx / this.scene.scale;\r\n      let top = this.scene.nodes[index].y + dy / this.scene.scale;\r\n      this.$set(\r\n        this.scene.nodes,\r\n        index,\r\n        Object.assign(this.scene.nodes[index], {\r\n          x: left,\r\n          y: top\r\n        })\r\n      );\r\n    },\r\n\r\n    // ノードを選択するメソッド\r\n    // ノードをクリックしたときに選択できるように実装\r\n    nodeSelected(id, e) {\r\n      const childData = this.$children.map(item => {\r\n        return item;\r\n      });\r\n      for (let i = 0; i < childData.length; i++) {\r\n        if (childData[i].edit === true) {\r\n          childData[i].edit = false;\r\n        }\r\n      }\r\n      this.action.dragging = id;\r\n      this.action.selected = id;\r\n      this.$emit(\"nodeClick\", id);\r\n      this.mouse.lastX =\r\n        e.pageX || e.clientX + document.documentElement.scrollLeft;\r\n      this.mouse.lastY =\r\n        e.pageY || e.clientY + document.documentElement.scrollTop;\r\n    },\r\n\r\n    // ダブルクリック時に呼び出されるメソッド\r\n    // ダブルクリック時にノードが追加されるように実装\r\n    onDblClick(e) {\r\n      console.log(\"ダブルクリックしたよ\", e.offsetX, e.offsetY);\r\n      if (this.action.selected > 0) {\r\n        var selectedNodeData = this.$refs.Child.find(item => {\r\n          return item.id === this.action.selected;\r\n        });\r\n        console.log(\"selectedNodeData:\", selectedNodeData);\r\n        selectedNodeData.edit = true;\r\n      } else {\r\n        //マウスのX値とセンターXを引いた値がノードのX座標\r\n        let newNodeX = e.offsetX - this.scene.centerX;\r\n        let newNodeY = e.offsetY - this.scene.centerY;\r\n        this.addNode(newNodeX, newNodeY);\r\n      }\r\n    },\r\n\r\n    // ノードを追加するメソッド\r\n    // id,xy座標,type(親・子・それ以外),テキストラベルをデータとして保持できるように実装\r\n    addNode(x, y) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n\r\n      let maxID = Math.max(\r\n        0,\r\n        ...this.scene.nodes.map(link => {\r\n          return link.id;\r\n        })\r\n      );\r\n      const newNode = {\r\n        id: maxID + 1,\r\n        x: x,\r\n        y: y,\r\n        type: \"parent\",\r\n        label: this.newNodeLabel ? this.newNodeLabel : `New Note`\r\n      };\r\n      this.scene.nodes.push(newNode);\r\n    },\r\n\r\n    // コピーしたノードをペーストするメソッド\r\n    // コピーをしたノードの近くにペーストされるように実装\r\n    addCopyNode(selectedNodeData) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n      console.log(\"コピーノード追加\");\r\n      let maxID = Math.max(\r\n        0,\r\n        ...this.scene.nodes.map(link => {\r\n          return link.id;\r\n        })\r\n      );\r\n      const newCopyNode = {\r\n        id: maxID + 1,\r\n        x: selectedNodeData.x + 30,\r\n        y: selectedNodeData.y + 30,\r\n        type: selectedNodeData.type,\r\n        label: selectedNodeData.label\r\n      };\r\n      this.scene.nodes.push(newCopyNode);\r\n    },\r\n\r\n    // エッジを追加するメソッド\r\n    // 初期表示時にエッジが作成されているように実装\r\n    addEdge(fromNodeId, fromPortId, toNodeId, toPortId) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n\r\n      let maxID = Math.max(\r\n        0,\r\n        ...this.scene.edges.map(edge => {\r\n          return edge.id;\r\n        })\r\n      );\r\n      const newEdge = {\r\n        id: maxID + 1,\r\n        from: fromNodeId,\r\n        fromPort: fromPortId,\r\n        to: toNodeId,\r\n        toPort: toPortId\r\n      };\r\n      this.scene.edges.push(newEdge);\r\n    },\r\n\r\n    // layerを作成するメソッド\r\n    layerStart(startCoordinate) {\r\n      this.undoSaveDatas.push(this.createSaveData());\r\n\r\n      this.action.draggingLayer = true;\r\n\r\n      let maxID = Math.max(\r\n        0,\r\n        ...this.scene.layers.map(layer => {\r\n          return layer.id;\r\n        })\r\n      );\r\n\r\n      var x = startCoordinate.startX;\r\n      if (x < 10) x = 0;\r\n      var y = startCoordinate.startY;\r\n      if (y < 10) y = 0;\r\n\r\n      const newLayer = {\r\n        id: maxID + 1,\r\n        x: x,\r\n        y: y\r\n      };\r\n      console.log(\"newLayer:\", newLayer);\r\n      this.scene.layers.push(newLayer);\r\n      this.refreshBlocks();\r\n    },\r\n\r\n    // ブロックを生成するメソッド\r\n    addBlock(x, y, w, h) {\r\n      this.undoSaveDatas.push(this.createSaveDatas());\r\n\r\n      let maxID = Math.max(\r\n        0,\r\n        ...this.scene.blocks.map(block => {\r\n          return block.id;\r\n        })\r\n      );\r\n      const newBlock = {\r\n        id: maxID + 1,\r\n        x: x,\r\n        y: y,\r\n        w: w,\r\n        h: h\r\n      };\r\n      console.log(\"newBlock:\", newBlock);\r\n      this.scene.blocks.push(newBlock);\r\n    },\r\n\r\n    // ブロックを再生成\r\n    refreshBlocks() {\r\n      this.undoSaveDatas.push(this.createSaveDatas());\r\n      this.scene.blocks = [];\r\n      let xLayers = this.scene.layers\r\n        .filter(layer => layer.y == 0)\r\n        .map(layer => layer.x);\r\n      xLayers.unshift(0);\r\n      xLayers.push(1024);\r\n      let yLayers = this.scene.layers\r\n        .filter(layer => layer.x == 0)\r\n        .map(layer => layer.y);\r\n      yLayers.unshift(0);\r\n      yLayers.push(768);\r\n      for (let i = 0; i < xLayers.length - 1; i++) {\r\n        for (let j = 0; j < yLayers.length - 1; j++) {\r\n          let x = xLayers[i];\r\n          let y = yLayers[parseInt(j + 1 / xLayers.length)];\r\n          let w = xLayers[i + 1] - x;\r\n          let h = yLayers[parseInt(j + 1 / xLayers.length) + 1] - y;\r\n          console.log(x, y, w, h);\r\n          this.addBlock(x, y, w, h);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.field-container {\r\n  width: 1024px;\r\n  background: #ffffe0;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: auto;\r\n  svg {\r\n    cursor: grab;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/IdeaEdgeField.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30453ad5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdeaEdgeLayerBlock.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeLayerBlock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeLayerBlock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30453ad5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdeaEdgeLayerBlock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30453ad5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IdeaEdgeLayerBlock.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:({\n    nodeDelete: ['del'],\n    nodeCopy: ['ctrl', 'c'],\n    nodePaste: ['ctrl', 'v'],\n    nodeEdit: ['f2'],\n    undo: ['ctrl', 'z'],\n    redo: ['ctrl', 'y']\n  }),expression:\"{\\n    nodeDelete: ['del'],\\n    nodeCopy: ['ctrl', 'c'],\\n    nodePaste: ['ctrl', 'v'],\\n    nodeEdit: ['f2'],\\n    undo: ['ctrl', 'z'],\\n    redo: ['ctrl', 'y']\\n  }\"}],staticClass:\"field-container\",on:{\"mousedown\":_vm.mouseDown,\"mousemove\":_vm.mouseMove,\"mouseup\":_vm.mouseUp,\"shortkey\":function($event){return _vm.onShortKeyPressed($event)},\"dblclick\":function($event){return _vm.onDblClick($event)}}},[_c('svg',{attrs:{\"width\":(_vm.width + \"px\"),\"height\":(_vm.height + \"px\")}},[_vm._l((_vm.blocks),function(block,index){return _c('IdeaEdgeLayerBlock',_vm._b({key:(\"block\" + index)},'IdeaEdgeLayerBlock',block,false,true))}),_vm._v(\" \"),_vm._l((_vm.layerLines),function(layer,index){return _c('IdeaEdgeLayer',_vm._b({key:(\"layer\" + index),on:{\"deleteLayer\":function($event){return _vm.layerDelete(layer.id)}}},'IdeaEdgeLayer',layer,false,true))}),_vm._v(\" \"),_vm._l((_vm.lines),function(edge,index){return _c('IdeaEdge',_vm._b({key:(\"edge\" + index),on:{\"deleteEdge\":function($event){return _vm.edgeDelete(edge.id)}}},'IdeaEdge',edge,false,true))})],2),_vm._v(\" \"),_vm._l((_vm.scene.nodes),function(node,index){return _c('IdeaEdgeNode',_vm._b({key:(\"node\" + index),ref:\"Child\",refInFor:true,attrs:{\"options\":_vm.nodeOptions},on:{\"edgingStart\":function($event){return _vm.edgingStart(node, $event)},\"edgingStop\":function($event){return _vm.edgingStop(node.id, $event)},\"reverseEdgingStop\":function($event){return _vm.reverseEdgingStop(node.id, $event)},\"nodeSelected\":function($event){return _vm.nodeSelected(node.id, $event)}}},'IdeaEdgeNode',node,false,true))})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a9ff668\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IdeaEdgeField.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a9ff668\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdeaEdgeField.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeField.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdeaEdgeField.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a9ff668\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdeaEdgeField.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a9ff668\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IdeaEdgeField.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <v-app>\r\n      <div class=\"title-area\">\r\n        <a href=\"/\" th:href=\"@{/}\">Idea Edge</a>\r\n      </div>\r\n      <div class=\"idea-edge-wrapper\">\r\n        <div class=\"button-area\">\r\n          <v-btn color=\"success\" @click=\"save()\">SAVE</v-btn>\r\n          <v-btn color=\"primary\" @click=\"reload()\">LOAD</v-btn>\r\n        </div>\r\n      </div>\r\n      <IdeaEdgeField\r\n        :scene.sync=\"scene\"\r\n        @nodeClick=\"nodeClick\"\r\n        @nodeDelete=\"nodeDelete\"\r\n        @edgeDelete=\"edgeDelete\"\r\n        @edgeAdded=\"edgeAdded\"\r\n        @fieldClick=\"fieldClick\"\r\n        @createSaveData=\"createSaveData\"\r\n        :height=\"768\"\r\n        :width=\"1024\"\r\n      />\r\n    </v-app>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IdeaEdgeField from \"./components/IdeaEdgeField.vue\";\r\nexport default {\r\n  name: \"app\",\r\n  components: {\r\n    IdeaEdgeField\r\n  },\r\n  data() {\r\n    return {\r\n      // sceneデータの定義\r\n      scene: {\r\n        centerX: 512,\r\n        centerY: 374,\r\n        scale: 1,\r\n        //ノードデータの定義\r\n        nodes: [],\r\n        //エッジデータの定義\r\n        edges: [],\r\n        layers: [],\r\n        blocks: []\r\n      },\r\n      newNodeType: 0,\r\n      newNodeLabel: \"\",\r\n      nodeCategory: [\"parent\", \"child\"]\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //フィールドをクリックしたときに呼び出されるメソッド\r\n    fieldClick(e) {\r\n      console.log(\"フィールドをクリックしたよ\");\r\n      console.log(\"field Click, event:\", e);\r\n    },\r\n    //ノードをクリックしたときに呼び出されるメソッド\r\n    //クリックしたノードの要素を取得\r\n    nodeClick(id) {\r\n      console.log(\"node click\", id);\r\n    },\r\n\r\n    //ノードを削除したときに呼び出されるメソッド\r\n    //削除したノードの要素を取得\r\n    nodeDelete(id) {\r\n      console.log(\"ノードを削除したよ\");\r\n      console.log(\"node delete\", id);\r\n    },\r\n\r\n    //エッジを削除したときに呼び出されるメソッド\r\n    //削除したノードの要素を取得\r\n    edgeDelete(id) {\r\n      console.log(\"エッジを削除したよ\");\r\n      console.log(\"edge delete\", id);\r\n    },\r\n\r\n    //エッジを加えたときに呼び出されるメソッド\r\n    //加えたエッジの要素を取得\r\n    edgeAdded(edge) {\r\n      console.log(\"エッジを加えたよ\");\r\n      console.log(\"new edge added:\", edge);\r\n    },\r\n\r\n    save() {\r\n      var saveData = this.createSaveData();\r\n      console.log(saveData);\r\n      this.$cookies.set(\"saveData\", saveData);\r\n    },\r\n\r\n    reload() {\r\n      console.log(\"読込するよ\");\r\n      var saveData = this.$cookies.get(\"saveData\");\r\n      console.log(saveData);\r\n      this.applySaveData(saveData);\r\n    },\r\n\r\n    createSaveData() {\r\n      var saveData = JSON.stringify({\r\n        nodes: this.scene.nodes,\r\n        edges: this.scene.edges,\r\n        layers: this.scene.layers,\r\n        blocks: this.scene.blocks\r\n      });\r\n      return saveData;\r\n    },\r\n\r\n    applySaveData(saveData) {\r\n      this.scene.nodes = saveData.nodes;\r\n      this.scene.edges = saveData.edges;\r\n      this.scene.layers = saveData.layers;\r\n      this.scene.blocks = saveData.blocks;\r\n    },\r\n\r\n    unimplementedAlert() {\r\n      alert(\"未実装です\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.title-area a {\r\n  font-size: 50px;\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n\r\n.button-area {\r\n  margin-top: 15px;\r\n}\r\n\r\n#app {\r\n  text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('div',{staticClass:\"title-area\"},[_c('a',{attrs:{\"href\":\"/\",\"th:href\":\"@{/}\"}},[_vm._v(\"Idea Edge\")])]),_vm._v(\" \"),_c('div',{staticClass:\"idea-edge-wrapper\"},[_c('div',{staticClass:\"button-area\"},[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"SAVE\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.reload()}}},[_vm._v(\"LOAD\")])],1)]),_vm._v(\" \"),_c('IdeaEdgeField',{attrs:{\"scene\":_vm.scene,\"height\":768,\"width\":1024},on:{\"update:scene\":function($event){_vm.scene=$event},\"nodeClick\":_vm.nodeClick,\"nodeDelete\":_vm.nodeDelete,\"edgeDelete\":_vm.edgeDelete,\"edgeAdded\":_vm.edgeAdded,\"fieldClick\":_vm.fieldClick,\"createSaveData\":_vm.createSaveData}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-687b5360\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-687b5360\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-687b5360\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport Vuetify from \"vuetify\";\r\nimport VueCookies from \"vue-cookies\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Vuetify);\r\nexport default new Vuetify({});\r\nVue.use(require(\"vue-shortkey\"));\r\nVue.use(VueCookies);\r\n\r\nnew Vue({\r\n  el: \"#app\",\r\n  vuetify: new Vuetify(opts),\r\n  render: h => h(App)\r\n});\r\n\r\nconst opts = {\r\n  theme: {\r\n    dark: true,\r\n    themes: {\r\n      light: {\r\n        primary: \"...\"\r\n      },\r\n      dark: {\r\n        primary: \"...\"\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}